---
title: 同源策略与跨域
date: 2019-03-31 19:19:58
tags:
---

* ### 同源策略与跨域

  <!--more-->

  - 源：协议、端口号和域名。
  - 同源策略：浏览器的一个安全功能，不同源的客户脚本在没有明确授权的情况下，不能读写对方的资源，比如ａ．ｃｏｍ下的ｊｓ脚本采用ａｊａｘ读取ｂ．ｃｏｍ里面的文件数据是会报错的
  - 不受同源策略限制的有：

  1. 页面中的链接，重定向以及表单提交是不会受到同源策略的限制的。
  2. 跨域资源的引入是可以的，但是js不能读写加载的内容，必须嵌入到页面中的<script src="..."></script>，<img>，<link>，<iframe>等.

  - 跨域：在浏览器同源策略的影响下，不是同源的脚本不能操作其他源下的对象，想要操作另一个源下的对象就需要跨域。

  - 解决的方式

    1. jsonp跨域：jsonp和json并没有关系，JSONP就是利用<script>标签的跨域能力实现跨域数据的访问，只可以get,
    2. 跨域技术-CORS （CrossOrigin Resources Sharing，跨源资源共享），它允许浏览器向跨源服务器，发出XMLHttpRequest请求，从而克服了AJAX只能同源使用的限制，比如在请求头添加Access-Control-Allow-Origin: http://a.com，这样就可以允许a.com访问

    ​

    ​

